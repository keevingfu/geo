<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eureka Global Analytics Dashboard - Multi-Region Performance</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0f1c;
            color: #e0e0e0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            overflow-x: hidden;
        }

        .dashboard-content {
            padding: 20px;
            max-width: 1800px;
            margin: 0 auto;
        }

        /* Header Section */
        .analytics-header {
            background: linear-gradient(135deg, #4a00e0 0%, #8e2de2 100%);
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-title {
            font-size: 32px;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 5px;
        }

        .header-subtitle {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.9);
        }

        .date-range-selector {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .date-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .date-btn.active {
            background: rgba(255, 255, 255, 0.3);
            border-color: #fff;
        }

        .date-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Global KPI Cards */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .kpi-card {
            background: #1a2332;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .kpi-card::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(0, 206, 209, 0.1), transparent);
            border-radius: 50%;
            transform: translate(30px, -30px);
        }

        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 206, 209, 0.2);
        }

        .kpi-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #00CED1, #1e90ff);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 15px;
        }

        .kpi-value {
            font-size: 32px;
            font-weight: 700;
            color: #fff;
            margin-bottom: 5px;
        }

        .kpi-label {
            font-size: 14px;
            color: #9ca3af;
            margin-bottom: 10px;
        }

        .kpi-trend {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }

        .trend-positive {
            color: #4ade80;
        }

        .trend-negative {
            color: #ef4444;
        }

        .trend-sparkline {
            flex: 1;
            height: 30px;
        }

        /* World Map Section */
        .map-section {
            background: #1a2332;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .map-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .map-title {
            font-size: 20px;
            font-weight: 600;
            color: #fff;
        }

        .map-controls {
            display: flex;
            gap: 10px;
        }

        .map-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #9ca3af;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 12px;
        }

        .map-btn.active {
            background: rgba(0, 206, 209, 0.2);
            border-color: #00CED1;
            color: #00CED1;
        }

        .map-container {
            height: 500px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
        }

        /* Performance Metrics Grid */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: #1a2332;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
        }

        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .metric-title {
            font-size: 18px;
            font-weight: 600;
            color: #fff;
        }

        .metric-filter {
            font-size: 12px;
            color: #00CED1;
            cursor: pointer;
        }

        .chart-container {
            height: 300px;
        }

        /* Regional Comparison Table */
        .comparison-section {
            background: #1a2332;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .comparison-table {
            width: 100%;
            margin-top: 20px;
        }

        .comparison-table th,
        .comparison-table td {
            text-align: left;
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .comparison-table th {
            font-size: 12px;
            color: #9ca3af;
            text-transform: uppercase;
            font-weight: 600;
            background: rgba(255, 255, 255, 0.02);
        }

        .comparison-table td {
            font-size: 14px;
            color: #e0e0e0;
        }

        .region-flag {
            font-size: 24px;
            margin-right: 10px;
        }

        .performance-bar {
            background: rgba(255, 255, 255, 0.1);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }

        .performance-fill {
            height: 100%;
            background: linear-gradient(90deg, #00CED1, #1e90ff);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        /* Funnel Analysis */
        .funnel-section {
            background: #1a2332;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .funnel-stages {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .funnel-stage {
            text-align: center;
            position: relative;
        }

        .stage-value {
            font-size: 36px;
            font-weight: 700;
            color: #00CED1;
            margin-bottom: 5px;
        }

        .stage-label {
            font-size: 14px;
            color: #9ca3af;
            margin-bottom: 10px;
        }

        .stage-conversion {
            font-size: 12px;
            color: #4ade80;
        }

        .funnel-arrow {
            position: absolute;
            right: -10px;
            top: 50%;
            transform: translateY(-50%);
            color: #374151;
            font-size: 24px;
        }

        /* Real-time Feed */
        .feed-section {
            background: #1a2332;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 25px;
        }

        .feed-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .feed-title {
            font-size: 18px;
            font-weight: 600;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .live-indicator {
            width: 8px;
            height: 8px;
            background: #4ade80;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }

        .feed-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 400px;
            overflow-y: auto;
        }

        .feed-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s;
        }

        .feed-item:hover {
            background: rgba(0, 206, 209, 0.05);
            border-color: rgba(0, 206, 209, 0.3);
        }

        .feed-icon {
            width: 40px;
            height: 40px;
            background: rgba(0, 206, 209, 0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .feed-content {
            flex: 1;
        }

        .feed-title-text {
            font-size: 14px;
            color: #fff;
            margin-bottom: 3px;
        }

        .feed-detail {
            font-size: 12px;
            color: #9ca3af;
        }

        .feed-time {
            font-size: 11px;
            color: #6b7280;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
            }

            .kpi-grid {
                grid-template-columns: 1fr;
            }

            .metrics-grid {
                grid-template-columns: 1fr;
            }

            .comparison-table {
                overflow-x: auto;
                display: block;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-content">
        <!-- Header -->
        <div class="analytics-header">
            <div class="header-content">
                <div>
                    <h1 class="header-title">Global Analytics Dashboard</h1>
                    <p class="header-subtitle">Real-time multi-region performance insights and trends</p>
                </div>
                <div class="date-range-selector">
                    <button class="date-btn" onclick="selectDateRange('24h')">24H</button>
                    <button class="date-btn active" onclick="selectDateRange('7d')">7D</button>
                    <button class="date-btn" onclick="selectDateRange('30d')">30D</button>
                    <button class="date-btn" onclick="selectDateRange('90d')">90D</button>
                    <button class="date-btn" onclick="selectDateRange('custom')">Custom</button>
                </div>
            </div>
        </div>

        <!-- Global KPIs -->
        <div class="kpi-grid">
            <div class="kpi-card">
                <div class="kpi-icon">🌍</div>
                <div class="kpi-value">89.2%</div>
                <div class="kpi-label">Global AI Visibility</div>
                <div class="kpi-trend">
                    <span class="trend-positive">↑ 12.5%</span>
                    <div class="trend-sparkline" id="sparkline1"></div>
                </div>
            </div>

            <div class="kpi-card">
                <div class="kpi-icon">📊</div>
                <div class="kpi-value">4.2M</div>
                <div class="kpi-label">Total AI Mentions</div>
                <div class="kpi-trend">
                    <span class="trend-positive">↑ 18.3%</span>
                    <div class="trend-sparkline" id="sparkline2"></div>
                </div>
            </div>

            <div class="kpi-card">
                <div class="kpi-icon">💰</div>
                <div class="kpi-value">$3.8M</div>
                <div class="kpi-label">Revenue Impact</div>
                <div class="kpi-trend">
                    <span class="trend-positive">↑ 22.7%</span>
                    <div class="trend-sparkline" id="sparkline3"></div>
                </div>
            </div>

            <div class="kpi-card">
                <div class="kpi-icon">🚀</div>
                <div class="kpi-value">156K</div>
                <div class="kpi-label">Content Published</div>
                <div class="kpi-trend">
                    <span class="trend-positive">↑ 8.9%</span>
                    <div class="trend-sparkline" id="sparkline4"></div>
                </div>
            </div>

            <div class="kpi-card">
                <div class="kpi-icon">🎯</div>
                <div class="kpi-value">5.8%</div>
                <div class="kpi-label">Avg Engagement Rate</div>
                <div class="kpi-trend">
                    <span class="trend-positive">↑ 0.7%</span>
                    <div class="trend-sparkline" id="sparkline5"></div>
                </div>
            </div>

            <div class="kpi-card">
                <div class="kpi-icon">🔄</div>
                <div class="kpi-value">3.2%</div>
                <div class="kpi-label">Conversion Rate</div>
                <div class="kpi-trend">
                    <span class="trend-negative">↓ 0.2%</span>
                    <div class="trend-sparkline" id="sparkline6"></div>
                </div>
            </div>
        </div>

        <!-- World Map -->
        <div class="map-section">
            <div class="map-header">
                <h2 class="map-title">Global Market Performance Heat Map</h2>
                <div class="map-controls">
                    <button class="map-btn active" onclick="switchMapView('visibility')">AI Visibility</button>
                    <button class="map-btn" onclick="switchMapView('engagement')">Engagement</button>
                    <button class="map-btn" onclick="switchMapView('revenue')">Revenue</button>
                </div>
            </div>
            <div class="map-container" id="worldMap"></div>
        </div>

        <!-- Performance Metrics -->
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-header">
                    <h3 class="metric-title">AI Platform Performance</h3>
                    <span class="metric-filter">All Platforms ▼</span>
                </div>
                <div class="chart-container" id="platformChart"></div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <h3 class="metric-title">Content Performance by Type</h3>
                    <span class="metric-filter">Last 7 Days ▼</span>
                </div>
                <div class="chart-container" id="contentTypeChart"></div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <h3 class="metric-title">Regional Growth Trends</h3>
                    <span class="metric-filter">Month over Month ▼</span>
                </div>
                <div class="chart-container" id="growthChart"></div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <h3 class="metric-title">Cross-Platform Synergy</h3>
                    <span class="metric-filter">All Channels ▼</span>
                </div>
                <div class="chart-container" id="synergyChart"></div>
            </div>
        </div>

        <!-- Regional Comparison -->
        <div class="comparison-section">
            <h2 class="map-title">Regional Performance Comparison</h2>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Region</th>
                        <th>AI Visibility</th>
                        <th>Engagement Rate</th>
                        <th>Content Published</th>
                        <th>Revenue Impact</th>
                        <th>Performance Score</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="region-flag">🇺🇸</span>Americas</td>
                        <td>92.5%</td>
                        <td>6.2%</td>
                        <td>45.2K</td>
                        <td>$1.2M</td>
                        <td>
                            <div class="performance-bar">
                                <div class="performance-fill" style="width: 92%"></div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><span class="region-flag">🇪🇺</span>Europe</td>
                        <td>87.3%</td>
                        <td>5.8%</td>
                        <td>38.7K</td>
                        <td>€980K</td>
                        <td>
                            <div class="performance-bar">
                                <div class="performance-fill" style="width: 87%"></div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><span class="region-flag">🇯🇵</span>Asia-Pacific</td>
                        <td>94.1%</td>
                        <td>7.1%</td>
                        <td>52.3K</td>
                        <td>¥142M</td>
                        <td>
                            <div class="performance-bar">
                                <div class="performance-fill" style="width: 94%"></div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><span class="region-flag">🌏</span>Southeast Asia</td>
                        <td>78.6%</td>
                        <td>5.2%</td>
                        <td>19.8K</td>
                        <td>$420K</td>
                        <td>
                            <div class="performance-bar">
                                <div class="performance-fill" style="width: 78%"></div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Funnel Analysis -->
        <div class="funnel-section">
            <h2 class="map-title">Global Conversion Funnel</h2>
            <div class="funnel-stages">
                <div class="funnel-stage">
                    <div class="stage-value">4.2M</div>
                    <div class="stage-label">AI Mentions</div>
                    <div class="funnel-arrow">→</div>
                </div>
                <div class="funnel-stage">
                    <div class="stage-value">892K</div>
                    <div class="stage-label">Clicks</div>
                    <div class="stage-conversion">21.2% CTR</div>
                    <div class="funnel-arrow">→</div>
                </div>
                <div class="funnel-stage">
                    <div class="stage-value">156K</div>
                    <div class="stage-label">Site Visits</div>
                    <div class="stage-conversion">17.5% conversion</div>
                    <div class="funnel-arrow">→</div>
                </div>
                <div class="funnel-stage">
                    <div class="stage-value">28.4K</div>
                    <div class="stage-label">Add to Cart</div>
                    <div class="stage-conversion">18.2% conversion</div>
                    <div class="funnel-arrow">→</div>
                </div>
                <div class="funnel-stage">
                    <div class="stage-value">9.2K</div>
                    <div class="stage-label">Purchases</div>
                    <div class="stage-conversion">32.4% conversion</div>
                </div>
            </div>
        </div>

        <!-- Real-time Activity Feed -->
        <div class="feed-section">
            <div class="feed-header">
                <div class="feed-title">
                    <span class="live-indicator"></span>
                    Real-time Activity Feed
                </div>
            </div>
            <div class="feed-items">
                <div class="feed-item">
                    <div class="feed-icon">🎯</div>
                    <div class="feed-content">
                        <div class="feed-title-text">AI Visibility Milestone Reached</div>
                        <div class="feed-detail">Eureka J15 Pro Ultra reached 95% visibility in Japan market</div>
                    </div>
                    <div class="feed-time">2 mins ago</div>
                </div>
                <div class="feed-item">
                    <div class="feed-icon">📈</div>
                    <div class="feed-content">
                        <div class="feed-title-text">Engagement Spike Detected</div>
                        <div class="feed-detail">TikTok engagement up 45% after #CleanWithEureka campaign</div>
                    </div>
                    <div class="feed-time">5 mins ago</div>
                </div>
                <div class="feed-item">
                    <div class="feed-icon">🛒</div>
                    <div class="feed-content">
                        <div class="feed-title-text">E-commerce Conversion Alert</div>
                        <div class="feed-detail">Amazon DE conversion rate increased to 3.5%</div>
                    </div>
                    <div class="feed-time">12 mins ago</div>
                </div>
                <div class="feed-item">
                    <div class="feed-icon">🌍</div>
                    <div class="feed-content">
                        <div class="feed-title-text">New Market Expansion</div>
                        <div class="feed-detail">Successfully launched in Australia market with 82% initial visibility</div>
                    </div>
                    <div class="feed-time">18 mins ago</div>
                </div>
                <div class="feed-item">
                    <div class="feed-icon">📱</div>
                    <div class="feed-content">
                        <div class="feed-title-text">Social Media Achievement</div>
                        <div class="feed-detail">Instagram followers surpassed 1.5M globally</div>
                    </div>
                    <div class="feed-time">25 mins ago</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize sparklines
        function initSparklines() {
            for (let i = 1; i <= 6; i++) {
                const chart = echarts.init(document.getElementById(`sparkline${i}`));
                const data = Array.from({length: 20}, () => Math.random() * 100);
                const option = {
                    grid: { top: 0, right: 0, bottom: 0, left: 0 },
                    xAxis: { type: 'category', show: false },
                    yAxis: { type: 'value', show: false },
                    series: [{
                        data: data,
                        type: 'line',
                        smooth: true,
                        showSymbol: false,
                        lineStyle: {
                            color: i === 6 ? '#ef4444' : '#4ade80',
                            width: 2
                        },
                        areaStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                { offset: 0, color: i === 6 ? 'rgba(239, 68, 68, 0.3)' : 'rgba(74, 222, 128, 0.3)' },
                                { offset: 1, color: 'transparent' }
                            ])
                        }
                    }]
                };
                chart.setOption(option);
            }
        }

        // World Map Chart - Using Grid Heat Map
        function initWorldMap() {
            const chart = echarts.init(document.getElementById('worldMap'));
            
            // Countries/Regions data
            const countries = [
                'United States', 'Canada', 'Mexico', 'Brazil', 'Argentina',
                'United Kingdom', 'Germany', 'France', 'Italy', 'Spain',
                'Russia', 'China', 'Japan', 'South Korea', 'India',
                'Australia', 'Singapore', 'Indonesia', 'Thailand', 'Malaysia'
            ];
            
            const regions = ['Americas', 'Europe', 'Asia-Pacific', 'Middle East'];
            
            // Generate heat map data
            const data = [];
            const values = [92.5, 87.9, 75.3, 68.2, 65.1, 85.7, 88.2, 82.3, 79.8, 77.5, 
                           71.2, 86.3, 94.1, 89.7, 83.4, 82.1, 78.6, 72.3, 70.5, 69.8];
            
            countries.forEach((country, idx) => {
                let region = 0;
                if (idx < 5) region = 0; // Americas
                else if (idx < 10) region = 1; // Europe
                else if (idx < 15) region = 2; // Asia-Pacific
                else region = 2; // Asia-Pacific continued
                
                data.push({
                    name: country,
                    value: [region, idx % 5, values[idx]]
                });
            });
            
            const option = {
                title: {
                    text: 'AI Visibility by Country',
                    left: 'center',
                    top: 10,
                    textStyle: {
                        color: '#fff',
                        fontSize: 16
                    }
                },
                tooltip: {
                    trigger: 'item',
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    borderColor: '#00CED1',
                    borderWidth: 1,
                    textStyle: { color: '#fff' },
                    formatter: function(params) {
                        return params.data.name + '<br/>AI Visibility: ' + params.data.value[2].toFixed(1) + '%';
                    }
                },
                grid: {
                    left: '15%',
                    right: '5%',
                    bottom: '15%',
                    top: '15%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: regions,
                    splitArea: {
                        show: true,
                        areaStyle: {
                            color: ['rgba(255,255,255,0.02)', 'rgba(255,255,255,0.05)']
                        }
                    },
                    axisLine: { lineStyle: { color: '#374151' } },
                    axisLabel: { 
                        color: '#9ca3af',
                        fontSize: 14,
                        fontWeight: 600
                    }
                },
                yAxis: {
                    type: 'category',
                    data: ['', '', '', '', ''],
                    splitArea: {
                        show: true,
                        areaStyle: {
                            color: ['rgba(255,255,255,0.02)', 'rgba(255,255,255,0.05)']
                        }
                    },
                    axisLine: { show: false },
                    axisLabel: { show: false },
                    axisTick: { show: false }
                },
                visualMap: {
                    min: 60,
                    max: 100,
                    calculable: true,
                    orient: 'horizontal',
                    left: 'center',
                    bottom: 0,
                    inRange: {
                        color: ['#1a2332', '#2a4e80', '#00CED1', '#1e90ff', '#4169E1']
                    },
                    textStyle: { color: '#9ca3af' }
                },
                series: [{
                    name: 'Global Market Performance',
                    type: 'scatter',
                    symbolSize: function (val) {
                        return Math.max(15, val[2] / 2);
                    },
                    data: data,
                    animationDelay: function (idx) {
                        return idx * 5;
                    },
                    label: {
                        show: true,
                        formatter: function(params) {
                            return params.data.name.length > 10 ? 
                                params.data.name.substr(0, 10) + '...' : 
                                params.data.name;
                        },
                        position: 'inside',
                        color: '#fff',
                        fontSize: 11
                    },
                    itemStyle: {
                        shadowBlur: 10,
                        shadowColor: 'rgba(0, 206, 209, 0.5)',
                        shadowOffsetY: 5
                    }
                }]
            };
            
            // Alternative visualization - Regional Bar Chart
            const alternativeOption = {
                title: {
                    text: 'AI Visibility by Region & Country',
                    left: 'center',
                    top: 10,
                    textStyle: {
                        color: '#fff',
                        fontSize: 16
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    },
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    borderColor: '#00CED1',
                    borderWidth: 1,
                    textStyle: { color: '#fff' }
                },
                legend: {
                    data: ['Americas', 'Europe', 'Asia-Pacific'],
                    bottom: 10,
                    textStyle: { color: '#9ca3af' }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%',
                    top: '15%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['USA', 'Canada', 'UK', 'Germany', 'France', 'Japan', 'China', 'Australia'],
                    axisLine: { lineStyle: { color: '#374151' } },
                    axisLabel: { 
                        color: '#9ca3af',
                        rotate: 30
                    }
                },
                yAxis: {
                    type: 'value',
                    name: 'AI Visibility (%)',
                    nameTextStyle: { color: '#9ca3af' },
                    axisLine: { lineStyle: { color: '#374151' } },
                    axisLabel: { color: '#9ca3af' },
                    splitLine: { lineStyle: { color: '#1f2937' } }
                },
                series: [
                    {
                        name: 'Americas',
                        type: 'bar',
                        data: [92.5, 87.9, 0, 0, 0, 0, 0, 0],
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                { offset: 0, color: '#00CED1' },
                                { offset: 1, color: '#006B6D' }
                            ])
                        }
                    },
                    {
                        name: 'Europe',
                        type: 'bar',
                        data: [0, 0, 85.7, 88.2, 82.3, 0, 0, 0],
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                { offset: 0, color: '#1e90ff' },
                                { offset: 1, color: '#0F4C81' }
                            ])
                        }
                    },
                    {
                        name: 'Asia-Pacific',
                        type: 'bar',
                        data: [0, 0, 0, 0, 0, 94.1, 86.3, 82.1],
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                { offset: 0, color: '#8b5cf6' },
                                { offset: 1, color: '#452E7B' }
                            ])
                        }
                    }
                ]
            };
            
            // Use the bar chart visualization for better clarity
            chart.setOption(alternativeOption);
            
            // Switch between visualizations
            let currentView = 'bar';
            const switchView = () => {
                currentView = currentView === 'bar' ? 'scatter' : 'bar';
                chart.setOption(currentView === 'bar' ? alternativeOption : option);
            };
            
            return chart;
        }

        // AI Platform Performance Chart
        function initPlatformChart() {
            const chart = echarts.init(document.getElementById('platformChart'));
            const option = {
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    borderColor: '#00CED1',
                    borderWidth: 1,
                    textStyle: { color: '#fff' }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['ChatGPT', 'Perplexity', 'Claude', 'Bard', 'Bing AI'],
                    axisLine: { lineStyle: { color: '#374151' } },
                    axisLabel: { color: '#9ca3af', rotate: 30 }
                },
                yAxis: {
                    type: 'value',
                    name: 'Visibility %',
                    axisLine: { lineStyle: { color: '#374151' } },
                    axisLabel: { color: '#9ca3af' },
                    splitLine: { lineStyle: { color: '#1f2937' } }
                },
                series: [{
                    data: [92, 88, 85, 78, 82],
                    type: 'bar',
                    itemStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            { offset: 0, color: '#00CED1' },
                            { offset: 1, color: '#1e90ff' }
                        ])
                    }
                }]
            };
            chart.setOption(option);
            return chart;
        }

        // Content Type Performance Chart
        function initContentTypeChart() {
            const chart = echarts.init(document.getElementById('contentTypeChart'));
            const option = {
                tooltip: {
                    trigger: 'item',
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    borderColor: '#00CED1',
                    borderWidth: 1,
                    textStyle: { color: '#fff' }
                },
                series: [{
                    name: 'Content Performance',
                    type: 'pie',
                    radius: ['40%', '70%'],
                    avoidLabelOverlap: false,
                    itemStyle: {
                        borderRadius: 10,
                        borderColor: '#0a0f1c',
                        borderWidth: 2
                    },
                    label: {
                        show: true,
                        formatter: '{b}\n{d}%',
                        color: '#9ca3af'
                    },
                    data: [
                        { value: 35, name: 'Product Demo', itemStyle: { color: '#00CED1' } },
                        { value: 28, name: 'Tech Analysis', itemStyle: { color: '#1e90ff' } },
                        { value: 20, name: 'User Stories', itemStyle: { color: '#8b5cf6' } },
                        { value: 17, name: 'Comparisons', itemStyle: { color: '#10b981' } }
                    ]
                }]
            };
            chart.setOption(option);
            return chart;
        }

        // Regional Growth Chart
        function initGrowthChart() {
            const chart = echarts.init(document.getElementById('growthChart'));
            const option = {
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    borderColor: '#00CED1',
                    borderWidth: 1,
                    textStyle: { color: '#fff' }
                },
                legend: {
                    data: ['Americas', 'Europe', 'Asia-Pacific', 'Southeast Asia'],
                    textStyle: { color: '#9ca3af' },
                    top: 10
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                    axisLine: { lineStyle: { color: '#374151' } },
                    axisLabel: { color: '#9ca3af' }
                },
                yAxis: {
                    type: 'value',
                    name: 'Growth %',
                    axisLine: { lineStyle: { color: '#374151' } },
                    axisLabel: { color: '#9ca3af' },
                    splitLine: { lineStyle: { color: '#1f2937' } }
                },
                series: [
                    {
                        name: 'Americas',
                        type: 'line',
                        smooth: true,
                        data: [12, 15, 18, 22, 25, 28, 32],
                        lineStyle: { color: '#00CED1', width: 3 }
                    },
                    {
                        name: 'Europe',
                        type: 'line',
                        smooth: true,
                        data: [10, 13, 16, 19, 22, 24, 27],
                        lineStyle: { color: '#f59e0b', width: 3 }
                    },
                    {
                        name: 'Asia-Pacific',
                        type: 'line',
                        smooth: true,
                        data: [15, 19, 24, 28, 32, 36, 41],
                        lineStyle: { color: '#8b5cf6', width: 3 }
                    },
                    {
                        name: 'Southeast Asia',
                        type: 'line',
                        smooth: true,
                        data: [8, 11, 14, 17, 19, 21, 24],
                        lineStyle: { color: '#10b981', width: 3 }
                    }
                ]
            };
            chart.setOption(option);
            return chart;
        }

        // Cross-Platform Synergy Chart
        function initSynergyChart() {
            const chart = echarts.init(document.getElementById('synergyChart'));
            const option = {
                tooltip: {
                    trigger: 'item',
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    borderColor: '#00CED1',
                    borderWidth: 1,
                    textStyle: { color: '#fff' }
                },
                series: [{
                    type: 'sankey',
                    layout: 'none',
                    emphasis: {
                        focus: 'adjacency'
                    },
                    data: [
                        { name: 'Social Media' },
                        { name: 'E-commerce' },
                        { name: 'AI Platforms' },
                        { name: 'Website' },
                        { name: 'Conversions' }
                    ],
                    links: [
                        { source: 'Social Media', target: 'Website', value: 10 },
                        { source: 'Social Media', target: 'E-commerce', value: 8 },
                        { source: 'AI Platforms', target: 'Website', value: 15 },
                        { source: 'AI Platforms', target: 'E-commerce', value: 12 },
                        { source: 'Website', target: 'Conversions', value: 20 },
                        { source: 'E-commerce', target: 'Conversions', value: 18 }
                    ],
                    lineStyle: {
                        color: 'gradient',
                        curveness: 0.5
                    },
                    itemStyle: {
                        color: '#00CED1',
                        borderColor: '#00CED1'
                    },
                    label: {
                        color: '#9ca3af',
                        formatter: '{b}'
                    }
                }]
            };
            chart.setOption(option);
            return chart;
        }

        // Date range selection
        function selectDateRange(range) {
            document.querySelectorAll('.date-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            console.log('Selected date range:', range);
            // In production, this would reload data for the selected range
        }

        // Map view switching
        function switchMapView(view) {
            document.querySelectorAll('.map-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            console.log('Switching map view to:', view);
            // In production, this would update the map visualization
        }

        // Initialize all components
        document.addEventListener('DOMContentLoaded', () => {
            initSparklines();
            initWorldMap();
            const platformChart = initPlatformChart();
            const contentTypeChart = initContentTypeChart();
            const growthChart = initGrowthChart();
            const synergyChart = initSynergyChart();

            // Responsive resize
            window.addEventListener('resize', () => {
                platformChart.resize();
                contentTypeChart.resize();
                growthChart.resize();
                synergyChart.resize();
            });

            // Simulate real-time updates
            setInterval(() => {
                // Update KPI values
                const kpiValues = document.querySelectorAll('.kpi-value');
                kpiValues.forEach((kpi, index) => {
                    if (index === 0) { // AI Visibility
                        const current = parseFloat(kpi.textContent);
                        const newValue = current + (Math.random() - 0.5) * 0.5;
                        kpi.textContent = newValue.toFixed(1) + '%';
                    } else if (index === 2) { // Revenue
                        const current = parseFloat(kpi.textContent.replace('$', '').replace('M', ''));
                        const newValue = current + (Math.random() - 0.5) * 0.1;
                        kpi.textContent = '$' + newValue.toFixed(1) + 'M';
                    }
                });

                // Add new feed item occasionally
                if (Math.random() > 0.8) {
                    const feedItems = document.querySelector('.feed-items');
                    const newItem = document.createElement('div');
                    newItem.className = 'feed-item';
                    newItem.innerHTML = `
                        <div class="feed-icon">🎯</div>
                        <div class="feed-content">
                            <div class="feed-title-text">New Achievement</div>
                            <div class="feed-detail">AI visibility increased in new market</div>
                        </div>
                        <div class="feed-time">Just now</div>
                    `;
                    feedItems.insertBefore(newItem, feedItems.firstChild);
                    
                    // Remove oldest item if too many
                    if (feedItems.children.length > 10) {
                        feedItems.removeChild(feedItems.lastChild);
                    }
                }
            }, 5000);
        });
    </script>
</body>
</html>