<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eureka GEO Analysis - Deep Insights & Analytics</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #0a0f1c;
            color: #e0e0e0;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, #1a237e 0%, #3949ab 100%);
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #fff;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: #00e5ff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #1a237e;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
            list-style: none;
        }

        .nav-menu a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            transition: opacity 0.3s;
            position: relative;
        }

        .nav-menu a:hover {
            opacity: 0.8;
        }

        .nav-menu a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            right: 0;
            height: 2px;
            background: #00e5ff;
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Analysis Header */
        .analysis-header {
            margin-bottom: 30px;
        }

        .analysis-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #00e5ff, #00acc1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .analysis-subtitle {
            color: #8892b0;
            font-size: 16px;
        }

        /* Filter Bar */
        .filter-bar {
            background: #1a2332;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-label {
            font-size: 12px;
            color: #8892b0;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .filter-select, .filter-input {
            background: #0a0f1c;
            border: 1px solid #2a3f5f;
            color: #fff;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            min-width: 150px;
        }

        .filter-input[type="date"] {
            min-width: 140px;
        }

        .apply-filters-btn {
            background: linear-gradient(135deg, #00e5ff 0%, #00acc1 100%);
            border: none;
            color: #1a237e;
            padding: 10px 24px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            margin-left: auto;
        }

        .apply-filters-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 229, 255, 0.3);
        }

        /* Analysis Cards Grid */
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .analysis-card {
            background: #1a2332;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .analysis-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .analysis-card-title {
            font-size: 18px;
            font-weight: 600;
            color: #fff;
        }

        .analysis-metric {
            display: flex;
            align-items: baseline;
            gap: 10px;
            margin-bottom: 15px;
        }

        .metric-value {
            font-size: 32px;
            font-weight: bold;
            color: #00e5ff;
        }

        .metric-unit {
            font-size: 16px;
            color: #8892b0;
        }

        .metric-change {
            font-size: 14px;
            padding: 4px 8px;
            border-radius: 4px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .metric-change.positive {
            background: rgba(76, 175, 80, 0.2);
            color: #4caf50;
        }

        .metric-change.negative {
            background: rgba(244, 67, 54, 0.2);
            color: #f44336;
        }

        /* Chart Containers */
        .chart-container {
            height: 300px;
            margin-top: 20px;
        }

        .large-chart-container {
            height: 400px;
        }

        /* Insights Section */
        .insights-section {
            background: #1a2332;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .insight-card {
            background: #0a0f1c;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid #00e5ff;
        }

        .insight-icon {
            width: 40px;
            height: 40px;
            background: rgba(0, 229, 255, 0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .insight-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #fff;
        }

        .insight-description {
            font-size: 14px;
            color: #8892b0;
            line-height: 1.6;
        }

        .insight-action {
            margin-top: 15px;
            color: #00e5ff;
            font-size: 14px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            transition: gap 0.3s;
        }

        .insight-action:hover {
            gap: 10px;
        }

        /* Data Table */
        .data-table-section {
            background: #1a2332;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .table-header {
            background: #2a3f5f;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-actions {
            display: flex;
            gap: 10px;
        }

        .export-btn {
            background: #2a3f5f;
            border: 1px solid #3a4f6f;
            color: #fff;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }

        .export-btn:hover {
            background: #3a4f6f;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: #2a3f5f;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #b3e5fc;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: sticky;
            top: 0;
        }

        td {
            padding: 15px;
            border-bottom: 1px solid #2a3f5f;
            font-size: 14px;
        }

        tr:hover {
            background: #2a3442;
        }

        /* Heat Map */
        .heatmap-container {
            background: #1a2332;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .heatmap-grid {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        .heatmap-labels {
            display: flex;
            flex-direction: column;
            gap: 5px;
            padding-top: 20px;
        }

        .heatmap-label {
            height: 30px;
            display: flex;
            align-items: center;
            font-size: 12px;
            color: #8892b0;
        }

        .heatmap-cells {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .heatmap-cell {
            aspect-ratio: 1;
            border-radius: 4px;
            cursor: pointer;
            transition: transform 0.2s;
            position: relative;
        }

        .heatmap-cell:hover {
            transform: scale(1.1);
            z-index: 10;
        }

        .heatmap-tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: #fff;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(-5px);
        }

        .heatmap-cell:hover .heatmap-tooltip {
            opacity: 1;
        }

        /* Loading State */
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 15, 28, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #2a3f5f;
            border-top: 4px solid #00e5ff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .filter-bar {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-group {
                width: 100%;
            }

            .apply-filters-btn {
                margin-left: 0;
                margin-top: 10px;
            }

            .analysis-grid {
                grid-template-columns: 1fr;
            }

            .nav-menu {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="logo">
                <div class="logo-icon">E</div>
                Eureka GEO Analysis
            </a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html">Overview</a></li>
                    <li><a href="#" class="active">Analysis</a></li>
                    <li><a href="#content">Content</a></li>
                    <li><a href="#monitoring">Monitoring</a></li>
                    <li><a href="#settings">Settings</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Analysis Header -->
        <div class="analysis-header">
            <h1 class="analysis-title">Deep Analytics & Insights</h1>
            <p class="analysis-subtitle">Comprehensive analysis of your GEO performance across all AI platforms</p>
        </div>

        <!-- Filter Bar -->
        <div class="filter-bar">
            <div class="filter-group">
                <label class="filter-label">Date Range</label>
                <select class="filter-select" id="date-range-filter">
                    <option value="7d">Last 7 Days</option>
                    <option value="30d" selected>Last 30 Days</option>
                    <option value="90d">Last 90 Days</option>
                    <option value="custom">Custom Range</option>
                </select>
            </div>
            <div class="filter-group">
                <label class="filter-label">Product Line</label>
                <select class="filter-select" id="product-filter">
                    <option value="all">All Products</option>
                    <option value="fc9">FC9 Series</option>
                    <option value="beetle">Beetle Robot</option>
                    <option value="ubox">Ubox</option>
                </select>
            </div>
            <div class="filter-group">
                <label class="filter-label">Platform</label>
                <select class="filter-select" id="platform-filter">
                    <option value="all">All Platforms</option>
                    <option value="google">Google AI</option>
                    <option value="chatgpt">ChatGPT</option>
                    <option value="perplexity">Perplexity</option>
                </select>
            </div>
            <div class="filter-group">
                <label class="filter-label">Content Type</label>
                <select class="filter-select" id="content-type-filter">
                    <option value="all">All Types</option>
                    <option value="faq">FAQ</option>
                    <option value="manual">Manual</option>
                    <option value="review">Review</option>
                </select>
            </div>
            <button class="apply-filters-btn" onclick="applyFilters()">Apply Filters</button>
        </div>

        <!-- Key Metrics Overview -->
        <div class="analysis-grid">
            <div class="analysis-card">
                <div class="analysis-card-header">
                    <h3 class="analysis-card-title">Query Volume Trends</h3>
                    <span class="metric-change positive">↑ 12.5%</span>
                </div>
                <div class="analysis-metric">
                    <span class="metric-value">47,892</span>
                    <span class="metric-unit">total queries</span>
                </div>
                <div id="query-volume-sparkline" class="chart-container"></div>
            </div>

            <div class="analysis-card">
                <div class="analysis-card-header">
                    <h3 class="analysis-card-title">Tech Feature Performance</h3>
                    <span class="metric-change positive">↑ 8.3%</span>
                </div>
                <div class="analysis-metric">
                    <span class="metric-value">86.4%</span>
                    <span class="metric-unit">citation rate</span>
                </div>
                <div id="tech-features-sparkline" class="chart-container"></div>
            </div>

            <div class="analysis-card">
                <div class="analysis-card-header">
                    <h3 class="analysis-card-title">Content Effectiveness</h3>
                    <span class="metric-change positive">↑ 15.7%</span>
                </div>
                <div class="analysis-metric">
                    <span class="metric-value">3.8x</span>
                    <span class="metric-unit">ROI improvement</span>
                </div>
                <div id="content-roi-sparkline" class="chart-container"></div>
            </div>
        </div>

        <!-- Query Analysis Deep Dive -->
        <div class="analysis-card" style="margin-bottom: 30px;">
            <h3 class="analysis-card-title" style="margin-bottom: 20px;">Query Pattern Analysis</h3>
            <div id="query-pattern-chart" class="chart-container large-chart-container"></div>
        </div>

        <!-- AI Platform Comparison -->
        <div class="analysis-grid">
            <div class="analysis-card">
                <h3 class="analysis-card-title">Platform Performance Matrix</h3>
                <div id="platform-matrix-chart" class="chart-container"></div>
            </div>
            <div class="analysis-card">
                <h3 class="analysis-card-title">Response Quality Distribution</h3>
                <div id="quality-distribution-chart" class="chart-container"></div>
            </div>
        </div>

        <!-- Content Gap Analysis -->
        <div class="insights-section">
            <h3 class="analysis-card-title">Content Gap Analysis & Opportunities</h3>
            <div class="insights-grid">
                <div class="insight-card">
                    <div class="insight-icon">🎯</div>
                    <h4 class="insight-title">Missing Coverage: Pet Hair Queries</h4>
                    <p class="insight-description">24% of pet-related queries don't mention Eureka's silver ion technology. Create targeted content emphasizing pet hair removal capabilities.</p>
                    <div class="insight-action">Create Content →</div>
                </div>
                <div class="insight-card">
                    <div class="insight-icon">📈</div>
                    <h4 class="insight-title">High-Impact Opportunity: Comparison Content</h4>
                    <p class="insight-description">Competitor comparison queries show 42% lower BMR. Develop detailed comparison guides highlighting electrolyzed water advantages.</p>
                    <div class="insight-action">View Details →</div>
                </div>
                <div class="insight-card">
                    <div class="insight-icon">⚡</div>
                    <h4 class="insight-title">Technical Feature Underutilization</h4>
                    <p class="insight-description">82 patents mentioned in only 31% of responses. Integrate patent references to boost authority scores.</p>
                    <div class="insight-action">Optimize Content →</div>
                </div>
            </div>
        </div>

        <!-- Query Performance Heatmap -->
        <div class="heatmap-container">
            <h3 class="analysis-card-title">Query Performance Heatmap (Last 7 Days)</h3>
            <div class="heatmap-grid">
                <div class="heatmap-labels">
                    <div class="heatmap-label">Product Features</div>
                    <div class="heatmap-label">How-to Guides</div>
                    <div class="heatmap-label">Comparisons</div>
                    <div class="heatmap-label">Troubleshooting</div>
                    <div class="heatmap-label">Reviews</div>
                </div>
                <div class="heatmap-cells" id="performance-heatmap"></div>
            </div>
        </div>

        <!-- Detailed Query Log -->
        <div class="data-table-section">
            <div class="table-header">
                <h3 class="analysis-card-title">Detailed Query Analysis</h3>
                <div class="table-actions">
                    <button class="export-btn" onclick="exportData('csv')">Export CSV</button>
                    <button class="export-btn" onclick="exportData('json')">Export JSON</button>
                </div>
            </div>
            <div style="overflow-x: auto;">
                <table>
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Query</th>
                            <th>Platform</th>
                            <th>BMR</th>
                            <th>Tech Features</th>
                            <th>Response Time</th>
                            <th>Confidence</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="query-log-table">
                        <tr>
                            <td>2025-01-15 14:32:21</td>
                            <td>Best robot vacuum for pet hair</td>
                            <td>ChatGPT</td>
                            <td style="color: #4caf50;">✓</td>
                            <td>Electrolyzed Water, Silver Ion</td>
                            <td>245ms</td>
                            <td>94.2%</td>
                            <td><a href="#" style="color: #00e5ff;">Analyze</a></td>
                        </tr>
                        <tr>
                            <td>2025-01-15 14:28:15</td>
                            <td>How to clean hardwood floors</td>
                            <td>Google AI</td>
                            <td style="color: #4caf50;">✓</td>
                            <td>50°C Self-drying</td>
                            <td>312ms</td>
                            <td>91.8%</td>
                            <td><a href="#" style="color: #00e5ff;">Analyze</a></td>
                        </tr>
                        <tr>
                            <td>2025-01-15 14:24:03</td>
                            <td>Compare vacuum cleaners 2025</td>
                            <td>Perplexity</td>
                            <td style="color: #f44336;">✗</td>
                            <td>-</td>
                            <td>298ms</td>
                            <td>78.5%</td>
                            <td><a href="#" style="color: #00e5ff;">Analyze</a></td>
                        </tr>
                        <tr>
                            <td>2025-01-15 14:19:47</td>
                            <td>Eureka FC9 Pro review</td>
                            <td>ChatGPT</td>
                            <td style="color: #4caf50;">✓</td>
                            <td>99.9% Sanitization, 82 Patents</td>
                            <td>267ms</td>
                            <td>97.3%</td>
                            <td><a href="#" style="color: #00e5ff;">Analyze</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Competitive Intelligence -->
        <div class="analysis-card">
            <h3 class="analysis-card-title" style="margin-bottom: 20px;">Competitive Intelligence Dashboard</h3>
            <div id="competitive-landscape-chart" class="chart-container large-chart-container"></div>
        </div>

        <!-- Trend Predictions -->
        <div class="analysis-grid">
            <div class="analysis-card">
                <h3 class="analysis-card-title">BMR Trend Prediction</h3>
                <div id="bmr-prediction-chart" class="chart-container"></div>
            </div>
            <div class="analysis-card">
                <h3 class="analysis-card-title">Query Volume Forecast</h3>
                <div id="volume-forecast-chart" class="chart-container"></div>
            </div>
        </div>
    </main>

    <script>
        // Initialize all charts
        let queryVolumeChart, techFeaturesChart, contentROIChart, queryPatternChart;
        let platformMatrixChart, qualityDistributionChart, competitiveLandscapeChart;
        let bmrPredictionChart, volumeForecastChart;

        function initAnalysisCharts() {
            // Query Volume Sparkline
            queryVolumeChart = echarts.init(document.getElementById('query-volume-sparkline'));
            const queryVolumeOption = {
                grid: {
                    left: 0,
                    right: 0,
                    top: 0,
                    bottom: 0
                },
                xAxis: {
                    type: 'category',
                    show: false,
                    data: generateTimeLabels(30)
                },
                yAxis: {
                    type: 'value',
                    show: false
                },
                series: [{
                    type: 'line',
                    smooth: true,
                    symbol: 'none',
                    lineStyle: {
                        color: '#00e5ff',
                        width: 2
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            { offset: 0, color: 'rgba(0, 229, 255, 0.3)' },
                            { offset: 1, color: 'rgba(0, 229, 255, 0.05)' }
                        ])
                    },
                    data: generateRandomData(30, 1200, 1800)
                }]
            };
            queryVolumeChart.setOption(queryVolumeOption);

            // Tech Features Sparkline
            techFeaturesChart = echarts.init(document.getElementById('tech-features-sparkline'));
            const techFeaturesOption = {
                grid: {
                    left: 0,
                    right: 0,
                    top: 0,
                    bottom: 0
                },
                xAxis: {
                    type: 'category',
                    show: false,
                    data: generateTimeLabels(30)
                },
                yAxis: {
                    type: 'value',
                    show: false,
                    min: 70,
                    max: 100
                },
                series: [{
                    type: 'line',
                    smooth: true,
                    symbol: 'none',
                    lineStyle: {
                        color: '#4caf50',
                        width: 2
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            { offset: 0, color: 'rgba(76, 175, 80, 0.3)' },
                            { offset: 1, color: 'rgba(76, 175, 80, 0.05)' }
                        ])
                    },
                    data: generateRandomData(30, 75, 95)
                }]
            };
            techFeaturesChart.setOption(techFeaturesOption);

            // Content ROI Sparkline
            contentROIChart = echarts.init(document.getElementById('content-roi-sparkline'));
            const contentROIOption = {
                grid: {
                    left: 0,
                    right: 0,
                    top: 0,
                    bottom: 0
                },
                xAxis: {
                    type: 'category',
                    show: false,
                    data: generateTimeLabels(30)
                },
                yAxis: {
                    type: 'value',
                    show: false,
                    min: 2,
                    max: 5
                },
                series: [{
                    type: 'line',
                    smooth: true,
                    symbol: 'none',
                    lineStyle: {
                        color: '#ff9800',
                        width: 2
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            { offset: 0, color: 'rgba(255, 152, 0, 0.3)' },
                            { offset: 1, color: 'rgba(255, 152, 0, 0.05)' }
                        ])
                    },
                    data: generateRandomData(30, 2.5, 4.5)
                }]
            };
            contentROIChart.setOption(contentROIOption);

            // Query Pattern Analysis
            queryPatternChart = echarts.init(document.getElementById('query-pattern-chart'));
            const queryPatternOption = {
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    textStyle: { color: '#fff' }
                },
                legend: {
                    data: ['Product Features', 'How-to Guides', 'Comparisons', 'Troubleshooting'],
                    textStyle: { color: '#8892b0' },
                    top: 10
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    top: '15%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: generateDateLabels(30),
                    axisLine: { lineStyle: { color: '#3a4f6f' } },
                    axisLabel: { color: '#8892b0', interval: 4 }
                },
                yAxis: {
                    type: 'value',
                    axisLine: { lineStyle: { color: '#3a4f6f' } },
                    axisLabel: { color: '#8892b0' },
                    splitLine: { lineStyle: { color: '#2a3f5f' } }
                },
                series: [
                    {
                        name: 'Product Features',
                        type: 'line',
                        stack: 'Total',
                        smooth: true,
                        areaStyle: { opacity: 0.8 },
                        emphasis: { focus: 'series' },
                        data: generateRandomData(30, 300, 500),
                        itemStyle: { color: '#00e5ff' }
                    },
                    {
                        name: 'How-to Guides',
                        type: 'line',
                        stack: 'Total',
                        smooth: true,
                        areaStyle: { opacity: 0.8 },
                        emphasis: { focus: 'series' },
                        data: generateRandomData(30, 200, 400),
                        itemStyle: { color: '#4caf50' }
                    },
                    {
                        name: 'Comparisons',
                        type: 'line',
                        stack: 'Total',
                        smooth: true,
                        areaStyle: { opacity: 0.8 },
                        emphasis: { focus: 'series' },
                        data: generateRandomData(30, 150, 300),
                        itemStyle: { color: '#ff9800' }
                    },
                    {
                        name: 'Troubleshooting',
                        type: 'line',
                        stack: 'Total',
                        smooth: true,
                        areaStyle: { opacity: 0.8 },
                        emphasis: { focus: 'series' },
                        data: generateRandomData(30, 100, 200),
                        itemStyle: { color: '#e91e63' }
                    }
                ]
            };
            queryPatternChart.setOption(queryPatternOption);

            // Platform Performance Matrix
            platformMatrixChart = echarts.init(document.getElementById('platform-matrix-chart'));
            const platformMatrixOption = {
                tooltip: {
                    position: 'top',
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    textStyle: { color: '#fff' }
                },
                grid: {
                    left: '15%',
                    right: '5%',
                    bottom: '15%',
                    top: '5%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    splitArea: { show: true },
                    axisLine: { lineStyle: { color: '#3a4f6f' } },
                    axisLabel: { color: '#8892b0' }
                },
                yAxis: {
                    type: 'category',
                    data: ['Google AI', 'ChatGPT', 'Perplexity'],
                    splitArea: { show: true },
                    axisLine: { lineStyle: { color: '#3a4f6f' } },
                    axisLabel: { color: '#8892b0' }
                },
                visualMap: {
                    min: 0,
                    max: 100,
                    calculable: true,
                    orient: 'horizontal',
                    left: 'center',
                    bottom: '0%',
                    textStyle: { color: '#8892b0' },
                    inRange: {
                        color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
                    }
                },
                series: [{
                    name: 'Performance',
                    type: 'heatmap',
                    data: generateHeatmapData(),
                    label: { show: true },
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }]
            };
            platformMatrixChart.setOption(platformMatrixOption);

            // Response Quality Distribution
            qualityDistributionChart = echarts.init(document.getElementById('quality-distribution-chart'));
            const qualityDistributionOption = {
                tooltip: {
                    trigger: 'item',
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    textStyle: { color: '#fff' }
                },
                series: [{
                    name: 'Quality Score',
                    type: 'gauge',
                    startAngle: 180,
                    endAngle: 0,
                    min: 0,
                    max: 100,
                    splitNumber: 5,
                    radius: '90%',
                    center: ['50%', '75%'],
                    axisLine: {
                        lineStyle: {
                            width: 30,
                            color: [
                                [0.3, '#f44336'],
                                [0.7, '#ff9800'],
                                [1, '#4caf50']
                            ]
                        }
                    },
                    pointer: {
                        icon: 'path://M12.8,0.7l12,40.1H0.7L12.8,0.7z',
                        length: '12%',
                        width: 20,
                        offsetCenter: [0, '-60%'],
                        itemStyle: { color: '#00e5ff' }
                    },
                    axisTick: {
                        length: 12,
                        lineStyle: { color: 'auto', width: 2 }
                    },
                    splitLine: {
                        length: 20,
                        lineStyle: { color: 'auto', width: 5 }
                    },
                    axisLabel: {
                        color: '#8892b0',
                        fontSize: 12,
                        distance: -60
                    },
                    detail: {
                        fontSize: 24,
                        offsetCenter: [0, '-20%'],
                        valueAnimation: true,
                        formatter: '{value}%',
                        color: '#00e5ff'
                    },
                    data: [{ value: 86.4 }]
                }]
            };
            qualityDistributionChart.setOption(qualityDistributionOption);

            // Competitive Landscape
            competitiveLandscapeChart = echarts.init(document.getElementById('competitive-landscape-chart'));
            const competitiveLandscapeOption = {
                tooltip: {
                    trigger: 'item',
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    textStyle: { color: '#fff' }
                },
                legend: {
                    orient: 'vertical',
                    left: 'left',
                    data: ['Eureka', 'Competitor A', 'Competitor B', 'Competitor C'],
                    textStyle: { color: '#8892b0' }
                },
                radar: {
                    indicator: [
                        { name: 'Brand Mentions', max: 100 },
                        { name: 'Tech Features', max: 100 },
                        { name: 'User Sentiment', max: 100 },
                        { name: 'Answer Quality', max: 100 },
                        { name: 'Response Speed', max: 100 },
                        { name: 'Market Share', max: 100 }
                    ],
                    splitArea: {
                        areaStyle: {
                            color: ['rgba(0, 229, 255, 0.05)', 'rgba(0, 229, 255, 0.1)']
                        }
                    },
                    axisLine: { lineStyle: { color: '#3a4f6f' } },
                    splitLine: { lineStyle: { color: '#3a4f6f' } },
                    axisName: { color: '#8892b0' }
                },
                series: [{
                    name: 'Competitive Analysis',
                    type: 'radar',
                    data: [
                        {
                            value: [92, 88, 85, 90, 95, 78],
                            name: 'Eureka',
                            lineStyle: { color: '#00e5ff', width: 3 },
                            areaStyle: { color: 'rgba(0, 229, 255, 0.3)' }
                        },
                        {
                            value: [75, 65, 78, 82, 88, 65],
                            name: 'Competitor A',
                            lineStyle: { color: '#ff6b6b' },
                            areaStyle: { color: 'rgba(255, 107, 107, 0.2)' }
                        },
                        {
                            value: [68, 70, 72, 75, 85, 58],
                            name: 'Competitor B',
                            lineStyle: { color: '#ffd93d' },
                            areaStyle: { color: 'rgba(255, 217, 61, 0.2)' }
                        },
                        {
                            value: [60, 55, 65, 70, 80, 45],
                            name: 'Competitor C',
                            lineStyle: { color: '#b3e5fc' },
                            areaStyle: { color: 'rgba(179, 229, 252, 0.2)' }
                        }
                    ]
                }]
            };
            competitiveLandscapeChart.setOption(competitiveLandscapeOption);

            // BMR Prediction Chart
            bmrPredictionChart = echarts.init(document.getElementById('bmr-prediction-chart'));
            const bmrPredictionOption = {
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    textStyle: { color: '#fff' }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: [...generateDateLabels(30), ...generateFutureDateLabels(15)],
                    axisLine: { lineStyle: { color: '#3a4f6f' } },
                    axisLabel: { color: '#8892b0', interval: 6 }
                },
                yAxis: {
                    type: 'value',
                    axisLine: { lineStyle: { color: '#3a4f6f' } },
                    axisLabel: { color: '#8892b0', formatter: '{value}%' },
                    splitLine: { lineStyle: { color: '#2a3f5f' } }
                },
                series: [
                    {
                        name: 'Actual BMR',
                        type: 'line',
                        data: [...generateRandomData(30, 68, 75), ...Array(15).fill(null)],
                        smooth: true,
                        itemStyle: { color: '#00e5ff' }
                    },
                    {
                        name: 'Predicted BMR',
                        type: 'line',
                        data: [...Array(29).fill(null), 74.5, ...generatePredictionData(15, 74.5, 82)],
                        smooth: true,
                        lineStyle: { type: 'dashed' },
                        itemStyle: { color: '#4caf50' },
                        areaStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                { offset: 0, color: 'rgba(76, 175, 80, 0.2)' },
                                { offset: 1, color: 'rgba(76, 175, 80, 0.05)' }
                            ])
                        }
                    }
                ]
            };
            bmrPredictionChart.setOption(bmrPredictionOption);

            // Volume Forecast Chart
            volumeForecastChart = echarts.init(document.getElementById('volume-forecast-chart'));
            const volumeForecastOption = {
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    textStyle: { color: '#fff' }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: generateWeekLabels(12),
                    axisLine: { lineStyle: { color: '#3a4f6f' } },
                    axisLabel: { color: '#8892b0' }
                },
                yAxis: {
                    type: 'value',
                    axisLine: { lineStyle: { color: '#3a4f6f' } },
                    axisLabel: { color: '#8892b0' },
                    splitLine: { lineStyle: { color: '#2a3f5f' } }
                },
                series: [{
                    name: 'Query Volume',
                    type: 'bar',
                    data: generateVolumeData(12),
                    itemStyle: {
                        color: function(params) {
                            if (params.dataIndex < 8) {
                                return new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                    { offset: 0, color: '#00e5ff' },
                                    { offset: 1, color: '#00acc1' }
                                ]);
                            } else {
                                return new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                    { offset: 0, color: 'rgba(0, 229, 255, 0.6)' },
                                    { offset: 1, color: 'rgba(0, 172, 193, 0.6)' }
                                ]);
                            }
                        }
                    },
                    label: {
                        show: true,
                        position: 'top',
                        color: '#8892b0',
                        fontSize: 10
                    }
                }]
            };
            volumeForecastChart.setOption(volumeForecastOption);

            // Generate heatmap
            generatePerformanceHeatmap();
        }

        // Helper functions
        function generateTimeLabels(count) {
            const labels = [];
            for (let i = 0; i < count; i++) {
                labels.push(`T${i}`);
            }
            return labels;
        }

        function generateDateLabels(days) {
            const labels = [];
            const today = new Date();
            for (let i = days - 1; i >= 0; i--) {
                const date = new Date(today);
                date.setDate(date.getDate() - i);
                labels.push(date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));
            }
            return labels;
        }

        function generateFutureDateLabels(days) {
            const labels = [];
            const today = new Date();
            for (let i = 1; i <= days; i++) {
                const date = new Date(today);
                date.setDate(date.getDate() + i);
                labels.push(date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));
            }
            return labels;
        }

        function generateWeekLabels(weeks) {
            const labels = [];
            for (let i = weeks - 1; i >= 0; i--) {
                if (i === 0) {
                    labels.push('This Week');
                } else if (i < 4) {
                    labels.push(`${i} weeks ago`);
                } else {
                    labels.push(`Week ${weeks - i}`);
                }
            }
            return labels;
        }

        function generateRandomData(count, min, max) {
            const data = [];
            for (let i = 0; i < count; i++) {
                data.push(Math.floor(Math.random() * (max - min + 1)) + min);
            }
            return data;
        }

        function generatePredictionData(count, start, target) {
            const data = [];
            for (let i = 0; i < count; i++) {
                const progress = i / count;
                const value = start + (target - start) * progress;
                const randomVariation = (Math.random() - 0.5) * 2;
                data.push(Math.round((value + randomVariation) * 10) / 10);
            }
            return data;
        }

        function generateVolumeData(weeks) {
            const data = [];
            const baseVolume = 12000;
            for (let i = 0; i < weeks; i++) {
                const growth = i < 8 ? 1 + (i * 0.05) : 1.4 + ((i - 8) * 0.08);
                const volume = Math.floor(baseVolume * growth + (Math.random() - 0.5) * 1000);
                data.push(volume);
            }
            return data;
        }

        function generateHeatmapData() {
            const data = [];
            const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
            const platforms = ['Google AI', 'ChatGPT', 'Perplexity'];
            
            for (let i = 0; i < platforms.length; i++) {
                for (let j = 0; j < days.length; j++) {
                    data.push([j, i, Math.floor(Math.random() * 100)]);
                }
            }
            return data;
        }

        function generatePerformanceHeatmap() {
            const container = document.getElementById('performance-heatmap');
            const categories = ['Product Features', 'How-to Guides', 'Comparisons', 'Troubleshooting', 'Reviews'];
            const days = 7;
            
            for (let cat = 0; cat < categories.length; cat++) {
                for (let day = 0; day < days; day++) {
                    const cell = document.createElement('div');
                    cell.className = 'heatmap-cell';
                    const value = Math.random() * 100;
                    const intensity = value / 100;
                    cell.style.backgroundColor = `rgba(0, 229, 255, ${intensity})`;
                    
                    const tooltip = document.createElement('div');
                    tooltip.className = 'heatmap-tooltip';
                    tooltip.textContent = `${categories[cat]}: ${Math.round(value)}%`;
                    cell.appendChild(tooltip);
                    
                    container.appendChild(cell);
                }
            }
        }

        // Apply filters function
        function applyFilters() {
            const dateRange = document.getElementById('date-range-filter').value;
            const product = document.getElementById('product-filter').value;
            const platform = document.getElementById('platform-filter').value;
            const contentType = document.getElementById('content-type-filter').value;
            
            // Show loading overlay
            console.log('Applying filters:', { dateRange, product, platform, contentType });
            
            // Simulate data refresh
            setTimeout(() => {
                // Refresh all charts with filtered data
                initAnalysisCharts();
            }, 500);
        }

        // Export data function
        function exportData(format) {
            console.log(`Exporting data in ${format} format...`);
            // Implement actual export functionality
            alert(`Export to ${format.toUpperCase()} initiated. Check your downloads folder.`);
        }

        // Window resize handler
        window.addEventListener('resize', () => {
            queryVolumeChart && queryVolumeChart.resize();
            techFeaturesChart && techFeaturesChart.resize();
            contentROIChart && contentROIChart.resize();
            queryPatternChart && queryPatternChart.resize();
            platformMatrixChart && platformMatrixChart.resize();
            qualityDistributionChart && qualityDistributionChart.resize();
            competitiveLandscapeChart && competitiveLandscapeChart.resize();
            bmrPredictionChart && bmrPredictionChart.resize();
            volumeForecastChart && volumeForecastChart.resize();
        });

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            initAnalysisCharts();
        });
    </script>
</body>
</html>